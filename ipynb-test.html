<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Testing Jupyter Notebook</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Meghann Agarwal's Blog </a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/ipynb-test.html" rel="bookmark"
           title="Permalink to Testing Jupyter Notebook">Testing Jupyter Notebook</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-03-02T00:00:00-06:00">
                Published: Wed 02 March 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/meghann-agarwal.html">Meghann Agarwal</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>
<p>tags: <a href="/tag/jupyter.html">jupyter</a> <a href="/tag/pelican.html">pelican</a> <a href="/tag/github.html">github</a> </p>
</footer><!-- /.post-info -->      <p>This is a test of the pelican plugin for displaying a Jupyter notebook on this blog.</p>
<p>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Plotting-a-Map-in-Bokeh-with-OpenStreetMap-Tiles">Plotting a Map in Bokeh with OpenStreetMap Tiles<a class="anchor-link" href="#Plotting-a-Map-in-Bokeh-with-OpenStreetMap-Tiles">&#182;</a></h1><p>Here is a map of the world plotted with OpenStreetMap tiles using the Python visualization tool <a href="https://www.continuum.io/bokeh">Bokeh</a> and <a href="https://github.com/bokeh/bokeh/blob/master/examples/models/tile_source.py">this example code</a> .</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">show</span>

<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">Plot</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">Range1d</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">WheelZoomTool</span><span class="p">,</span> <span class="n">ResizeTool</span><span class="p">,</span> <span class="n">PanTool</span><span class="p">,</span> <span class="n">BoxZoomTool</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">WMTSTileSource</span>

<span class="n">output_notebook</span><span class="p">()</span>

<span class="c1"># set to roughly full extent of web mercator projection</span>
<span class="n">x_range</span> <span class="o">=</span> <span class="n">Range1d</span><span class="p">(</span><span class="n">start</span><span class="o">=-</span><span class="mi">20000000</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">20000000</span><span class="p">)</span>
<span class="n">y_range</span> <span class="o">=</span> <span class="n">Range1d</span><span class="p">(</span><span class="n">start</span><span class="o">=-</span><span class="mi">20000000</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">20000000</span><span class="p">)</span>

<span class="c1"># create tile source from templated url</span>
<span class="n">tile_options</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">tile_options</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;http://c.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">tile_source</span> <span class="o">=</span> <span class="n">WMTSTileSource</span><span class="p">(</span><span class="o">**</span><span class="n">tile_options</span><span class="p">)</span>

<span class="c1"># instantiate plot and add tile source</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span><span class="o">=</span><span class="n">y_range</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">plot_width</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_tools</span><span class="p">(</span><span class="n">ResizeTool</span><span class="p">(),</span> <span class="n">WheelZoomTool</span><span class="p">(),</span> <span class="n">PanTool</span><span class="p">(),</span> <span class="n">BoxZoomTool</span><span class="p">())</span>

<span class="n">tile_renderer_options</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_tile</span><span class="p">(</span><span class="n">tile_source</span><span class="p">,</span> <span class="o">**</span><span class="n">tile_renderer_options</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">


    <script type="text/javascript">
      
      (function(global) {
        function now() {
          return new Date();
        }
      
        if (typeof (window._bokeh_onload_callbacks) === "undefined") {
          window._bokeh_onload_callbacks = [];
        }
      
        function run_callbacks() {
          window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
          delete window._bokeh_onload_callbacks
          console.info("Bokeh: all callbacks have finished");
        }
      
        function load_libs(js_urls, callback) {
          window._bokeh_onload_callbacks.push(callback);
          if (window._bokeh_is_loading > 0) {
            console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
            return null;
          }
          if (js_urls == null || js_urls.length === 0) {
            run_callbacks();
            return null;
          }
          console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
          window._bokeh_is_loading = js_urls.length;
          for (var i = 0; i < js_urls.length; i++) {
            var url = js_urls[i];
            var s = document.createElement('script');
            s.src = url;
            s.async = false;
            s.onreadystatechange = s.onload = function() {
              window._bokeh_is_loading--;
              if (window._bokeh_is_loading === 0) {
                console.log("Bokeh: all BokehJS libraries loaded");
                run_callbacks()
              }
            };
            s.onerror = function() {
              console.warn("failed to load library " + url);
            };
            console.log("Bokeh: injecting script tag for BokehJS library: ", url);
            document.getElementsByTagName("head")[0].appendChild(s);
          }
        };var js_urls = ['https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.js', 'https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.js', 'https://cdn.pydata.org/bokeh/release/bokeh-compiler-0.11.0.min.js'];
      
        var inline_js = [
          function(Bokeh) {
            Bokeh.set_log_level("info");
          },
          function(Bokeh) {
            console.log("Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.css");
            Bokeh.embed.inject_css("https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.css");
            console.log("Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.css");
            Bokeh.embed.inject_css("https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.css");
          }
        ];
      
        function run_inline_js() {
          for (var i = 0; i < inline_js.length; i++) {
            inline_js[i](window.Bokeh);
          }
        }
      
        if (window._bokeh_is_loading === 0) {
          console.log("Bokeh: BokehJS loaded, going straight to plotting");
          run_inline_js();
        } else {
          load_libs(js_urls, function() {
            console.log("Bokeh: BokehJS plotting callback run at", now());
            run_inline_js();
          });
        }
      }(this));
    </script>
    <div>
        <a href="http://bokeh.pydata.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span>BokehJS successfully loaded.</span>
    </div>
</div>

</div>

<div class="output_area"><div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">


    <div class="plotdiv" id="63f968b4-267d-4d03-b5d1-f16b16e8cd54"></div>
<script type="text/javascript">
  
  (function(global) {
    function now() {
      return new Date();
    }
  
    if (typeof (window._bokeh_onload_callbacks) === "undefined") {
      window._bokeh_onload_callbacks = [];
    }
  
    function run_callbacks() {
      window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
      delete window._bokeh_onload_callbacks
      console.info("Bokeh: all callbacks have finished");
    }
  
    function load_libs(js_urls, callback) {
      window._bokeh_onload_callbacks.push(callback);
      if (window._bokeh_is_loading > 0) {
        console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
        return null;
      }
      if (js_urls == null || js_urls.length === 0) {
        run_callbacks();
        return null;
      }
      console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
      window._bokeh_is_loading = js_urls.length;
      for (var i = 0; i < js_urls.length; i++) {
        var url = js_urls[i];
        var s = document.createElement('script');
        s.src = url;
        s.async = false;
        s.onreadystatechange = s.onload = function() {
          window._bokeh_is_loading--;
          if (window._bokeh_is_loading === 0) {
            console.log("Bokeh: all BokehJS libraries loaded");
            run_callbacks()
          }
        };
        s.onerror = function() {
          console.warn("failed to load library " + url);
        };
        console.log("Bokeh: injecting script tag for BokehJS library: ", url);
        document.getElementsByTagName("head")[0].appendChild(s);
      }
    };var element = document.getElementById("63f968b4-267d-4d03-b5d1-f16b16e8cd54");
    if (element == null) {
      console.log("Bokeh: ERROR: autoload.js configured with elementid '63f968b4-267d-4d03-b5d1-f16b16e8cd54' but no matching script tag was found. ")
      return false;
    }var js_urls = [];
  
    var inline_js = [
      function(Bokeh) {
        Bokeh.$(function() {
            var docs_json = {"c09fce96-170b-4205-85f3-18f1721eba74": {"version": "0.11.0", "roots": {"root_ids": ["d5e7f430-39e7-4069-980c-14fdba70fec2"], "references": [{"attributes": {"line_color": {"value": "black"}, "line_alpha": {"value": 1.0}, "render_mode": "css", "bottom_units": "screen", "level": "overlay", "top_units": "screen", "fill_alpha": {"value": 0.5}, "plot": null, "left_units": "screen", "line_dash": [4, 4], "line_width": {"value": 2}, "right_units": "screen", "fill_color": {"value": "lightgrey"}}, "type": "BoxAnnotation", "id": "59c63f2d-c321-4641-9094-14f420decf27"}, {"attributes": {"callback": null, "end": 20000000, "start": -20000000}, "type": "Range1d", "id": "7e1e6f0a-3986-4e67-9fcf-beeda10b26c2"}, {"attributes": {"plot": {"type": "Plot", "id": "d5e7f430-39e7-4069-980c-14fdba70fec2"}, "overlay": {"type": "BoxAnnotation", "id": "59c63f2d-c321-4641-9094-14f420decf27"}}, "type": "BoxZoomTool", "id": "cdf52c8e-f68b-4e50-8d0d-ec6ead71f4bd"}, {"attributes": {"plot": {"type": "Plot", "id": "d5e7f430-39e7-4069-980c-14fdba70fec2"}}, "type": "PanTool", "id": "0be79d29-eb78-43dd-8767-2f18cb24664d"}, {"attributes": {"url": "http://c.tile.openstreetmap.org/{z}/{x}/{y}.png"}, "type": "WMTSTileSource", "id": "933922fc-3a20-4847-a1d1-8c7c271e5de4"}, {"attributes": {}, "type": "ToolEvents", "id": "bc2ba43e-2c8a-4461-886e-a1af8c9ff044"}, {"attributes": {"tile_source": {"type": "WMTSTileSource", "id": "933922fc-3a20-4847-a1d1-8c7c271e5de4"}}, "type": "TileRenderer", "id": "de5643a3-9055-4c8e-8179-6690b4a6186c"}, {"attributes": {"callback": null, "end": 20000000, "start": -20000000}, "type": "Range1d", "id": "712e89a8-26a7-441a-a3cd-848a8a4a70ef"}, {"attributes": {"plot": {"type": "Plot", "id": "d5e7f430-39e7-4069-980c-14fdba70fec2"}}, "type": "WheelZoomTool", "id": "9effdf08-208e-47b3-8c86-1c73af82b419"}, {"attributes": {"plot": {"type": "Plot", "id": "d5e7f430-39e7-4069-980c-14fdba70fec2"}}, "type": "ResizeTool", "id": "dcf81383-19b9-4824-8d5f-6e5ad51eb2b2"}, {"attributes": {"x_range": {"type": "Range1d", "id": "712e89a8-26a7-441a-a3cd-848a8a4a70ef"}, "y_range": {"type": "Range1d", "id": "7e1e6f0a-3986-4e67-9fcf-beeda10b26c2"}, "renderers": [{"type": "BoxAnnotation", "id": "59c63f2d-c321-4641-9094-14f420decf27"}, {"type": "TileRenderer", "id": "de5643a3-9055-4c8e-8179-6690b4a6186c"}], "plot_width": 800, "plot_height": 800, "tool_events": {"type": "ToolEvents", "id": "bc2ba43e-2c8a-4461-886e-a1af8c9ff044"}, "tools": [{"type": "ResizeTool", "id": "dcf81383-19b9-4824-8d5f-6e5ad51eb2b2"}, {"type": "WheelZoomTool", "id": "9effdf08-208e-47b3-8c86-1c73af82b419"}, {"type": "PanTool", "id": "0be79d29-eb78-43dd-8767-2f18cb24664d"}, {"type": "BoxZoomTool", "id": "cdf52c8e-f68b-4e50-8d0d-ec6ead71f4bd"}]}, "type": "Plot", "id": "d5e7f430-39e7-4069-980c-14fdba70fec2"}]}, "title": "Bokeh Application"}};
            var render_items = [{"notebook_comms_target": "6586158d-f958-4a2a-b828-5388bba2a8a7", "docid": "c09fce96-170b-4205-85f3-18f1721eba74", "elementid": "63f968b4-267d-4d03-b5d1-f16b16e8cd54", "modelid": "d5e7f430-39e7-4069-980c-14fdba70fec2"}];
            
            Bokeh.embed.embed_items(docs_json, render_items);
        });
      },
      function(Bokeh) {
      }
    ];
  
    function run_inline_js() {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i](window.Bokeh);
      }
    }
  
    if (window._bokeh_is_loading === 0) {
      console.log("Bokeh: BokehJS loaded, going straight to plotting");
      run_inline_js();
    } else {
      load_libs(js_urls, function() {
        console.log("Bokeh: BokehJS plotting callback run at", now());
        run_inline_js();
      });
    }
  }(this));
</script>
</div>

</div>

<div class="output_area"><div class="prompt output_prompt">Out[1]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&lt;bokeh.io._CommsHandle at 0x10be0a1d0&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span> 
</pre></div>

</div>
</div>
</div>

</div></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/mepa">GitHub</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>